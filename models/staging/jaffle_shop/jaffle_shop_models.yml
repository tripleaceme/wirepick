version: 2

models:
    - name: stg_jaffle_shop_customers
      config:
        materialized: view
# Implementing a generic test options for the columns in the stg_jaffle_shop_customers table. use dbt test to run it. 

      columns:
          - name: customer_id
            tests:
              - unique
              - not_null


    - name: stg_jaffle_shop_orders
      config:
        materialized: view
# Implementing a generic test options for the columns in the stg_jaffle_shop_orders table. use dbt test to run it. 
      columns:
          - name: order_id
            tests:
              - unique
              - not_null

          - name: status
            tests:
              - accepted_values:
                   values:
                      - completed
                      - shipped
                      - returned
                      - placed
                      - return_pending

          - name: customer_id
            tests:
            - relationships:
                to: ref('stg_jaffle_shop_customers')
                field: customer_id